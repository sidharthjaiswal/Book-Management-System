<head>
    <!-- Bootstrap Flatly CSS-->
    <link type="text/css" rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/bootswatch@4.5.2/dist/flatly/bootstrap.min.css" />


    <!-- Load required Bootstrap and BootstrapVue CSS 
    <link type="text/css" rel="stylesheet" href="https://unpkg.com/bootstrap@5.0.2/dist/css/bootstrap.min.css" />-->
    <link type="text/css" rel="stylesheet" href="https://unpkg.com/bootstrap-vue@2.21.2/dist/bootstrap-vue.min.css" />

    <!-- Bootstrap npm CSS-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"></script>

    <!-- VueJS-->
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.12/dist/vue.js"></script>

    <!-- axios-->
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

</head>
<div class="container" id="libraryApp">
    <h1>Hello</h1>
    <p>Sidharth Jaiswal</p>
</div>


<script>
    var application = new Vue({
        el: '#libraryApp',

        data: {
            name: '',
            author: '',
            allRecords: [],
            update_id: '',
            update_name: '',
            update_author: '',
            successMsg: ''
        },


        methods: {

            showModal(id) {
                this.$ref[id].show()
            },

            hideModal(id) {
                this.$ref[id].show()
            },


            Submit(){
                if(this.name !='' && this.author != '')
                {
                    fd.append('name',this.name)
                    fd.append('author',this.author)

                    axios({
                        url: 'create.php',
                        method: 'post',
                        data: fd
                    }).then(response => {
                        if(response.data.result == 'success'){
                            application.successMsg = 'record insert successfully';
                            this.name = ''
                            this.author  = ''

                            application.hideModal('add-modal')
                            application.getRecords()
                        }else{
                            alert('error')
                        }
                    }).catch(error => {
                        console.log(error)
                    })
                }else{
                    alert('all fields are required')
                }
            },

            
        }
    });
</script>